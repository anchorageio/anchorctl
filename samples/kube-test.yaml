kind: Pod
metadata:
  name: nginx-7db9fccd9b-jlpw4
  namespace: default
  label:
    key: run
    value: nginx

tests:
- type: AssertJSONPath
  jsonPath: ".spec.nodeName"
  value: "docker-desktop"
- type: AssertValidation
  action: "Create"      # Allowed actions: CREATE, UPDATE, DELETE
  filePath: "../filepath.yaml"
  expectedError: "Internal error occurred: admission webhook \"webhook.openpolicyagent.org\" denied the request: You can't create ingresses resource in this Cluster"
#- type: AssertMutation
#  action: "Create"      # Allowed actions: CREATE, UPDATE
#  filePath: "../filepath.yaml"
#  jsonPath: ".spec.nodeName"
#  value: "docker-desktop"
